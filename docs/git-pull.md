# راهنمای کوتاه `git pull`

## تعریف
- `git pull` تغییرات جدید را از ریموت دریافت می‌کند و روی برنچ فعلی شما ادغام می‌کند.
- معادل دو دستور پشت‌سرهم است: `git fetch` سپس `git merge` (یا `rebase` با گزینه‌ی مربوط).

## چه کاری انجام می‌دهد
- دانلود کامیت‌های جدید از ریموت برای برنچ فعلی.
- ادغام تغییرات ریموت با لوکال شما (Fast-Forward یا Merge Commit بسته به وضعیت).
- در صورت اختلاف، ممکن است کانفلیکت ایجاد شود که باید حل شود.

## نمونه‌های رایج
- `git pull` روی ریموت و برنچ پیش‌فرض (مثلاً `origin/main`).
- `git pull origin develop` دریافت و ادغام آخرین تغییرات برنچ `develop`.
- `git pull --rebase` به‌جای Merge، تاریخچه‌ی شما را روی تاریخچه‌ی ریموت بازپخش می‌کند تا لاگ تمیزتر شود.

## تفاوت با دستورات مرتبط
- `git fetch`: فقط دریافت تغییرات، بدون ادغام در برنچ فعلی.
- `git merge`: ادغام شاخه‌ای که دریافت شده با شاخه‌ی فعلی.
- `git pull`: ترکیب هر دو؛ هم دریافت و هم ادغام.

## الگوی پیشنهادی برای دیپلوی
- روی سرور تولید، برای همسان‌سازی کامل با `main` بدون ریسک کانفلیکت:
```bash
git fetch --all
git checkout main
git reset --hard origin/main
```
- سپس دیپلوی با داکر:
```bash
docker compose down -v
docker compose up -d --build
docker compose ps
```

## نکات عملی
- اگر تغییرات لوکال داری و نمی‌خواهی از دست بروند، اول کامیت/استش کن یا از `git pull --rebase` استفاده کن.
- برای پروژه‌های تولیدی، بهتر است `main` را Protected کنی و فقط با Pull Request ادغام انجام شود.
